---
layout: post
title:  "1. Vim系列"
date:   1970-01-01
categories: Vim
tags: vim
excerpt: Vim一条路走到黑系列
mathjax: true
---

### Vim系列

> 这里就不过多的叙述`Vim`是什么、能干什么、以及怎么安装等等问题，这些网上都有很多，就不过的叙述了，直接切入问题，直击你的灵魂。
> 
> 下面将以标题形式展开在日常使用`Vim`的过程中你的脑海可能浮现的一些关键词，如：如何退出、如何在任意位置编辑一个文件、如何撤销一次操作等等。以问题的形式来简要说明你可以使用的快捷键

---

#### 1. 如何退出

> 下面列举了在`Vim`中常用到的退出操作指令，不常用的就直接还原英文描述，当然，下面的命令都是所谓`常用`其实也是根据个人习惯来的，供参考，后面的都如此，请不要当GJ。

| 指令          | 区别描述                                       | 热度指数 |
| ------------- | ---------------------------------------------- | -------- |
| `:q`          | 未作任何编辑时退出                             | ☆☆☆☆☆    |
| `:q[uit]!`    | 放弃更改并退出                                 | ☆☆☆☆☆    |
| `:wq`         | 保存并退出                                     | ☆☆☆☆☆    |
| `:wq!`        | 强制保存并退出                                 | ☆☆☆☆☆    |
| `:wq {file}`  | 未编辑内容时保存当前文件内容到指定`file`并退出 | ☆☆       |
| `:wq! {file}` | 强制保存当前文件内容到指定`file`并退出         | ☆☆       |
| `ZZ`          | Write current file, if modified, and exit      | ☆☆☆      |
| `ZQ`          | 相当于 `:q!`                                   | ☆☆☆      |


#### 2. 如何编辑

> 注意：这里是指的编辑，对于编辑的使用尤其在需要编辑当前`Vim`之外的文件时就非常有用。

| 指令              | 区别描述           | 热度指数 |
| ----------------- | ------------------ | -------- |
| `:e[dit] {file}`  | 编辑另一个文件     | ☆☆☆      |
| `:e[dit]! {file}` | 强制编辑另一个文件 | ☆☆☆      |

#### 3. 插入文本

| 指令 | 区别描述                                   | 热度指数 |
| ---- | ------------------------------------------ | -------- |
| `a`  | 在光标后一个字符开始插入                   | ☆☆☆☆     |
| `A`  | 在光标所在行`末尾`开始插入                 | ☆☆☆☆☆    |
| `i`  | 在`光标位置`开始插入                       | ☆☆☆☆☆    |
| `I`  | 在光标所在行的`行首`第一个非空格前开始插入 | ☆☆☆☆☆    |
| `gI` | 在第一列开始插入                           | ☆☆☆      |
| `o`  | 在光标`下一行`开始插入                     | ☆☆☆☆☆    |
| `O`  | 在光标`上一行`开始插入                     | ☆☆☆☆☆    |


#### 4. 插入文件

> 这里指的插入文件是指插入文件的数据，并非`插入文件`

| 指令              | 区别描述                                                  | 热度指数 |
| ----------------- | --------------------------------------------------------- | -------- |
| `:r[ead] [name] ` | 在光标下放插入文件名`name`的数据                          | ☆☆☆☆     |
| `:r[ead] !{cmd}`  | 执行一个`cmd命令`并把其标准输入输出的内容输出到光标的下方 | ☆☆☆☆☆    |

#### 5. 删除文字

| 指令  | 区别描述                                                                        | 热度指数 |
| ----- | ------------------------------------------------------------------------------- | -------- |
| `dd`  | 删除一行数据                                                                    | ☆☆☆☆☆    |
| `xdd` | 删除光标下`x`行数据                                                             | ☆☆☆☆☆    |
| `d1G` | 删除光标所在到第一行的所有数据                                                  | ☆☆☆      |
| `dG`  | 删除光标所在到最后一行的所有数据                                                | ☆☆☆      |
| `d$`  | 删除光标所在处，到该行的最后一个字符                                            | ☆☆☆☆     |
| `d0`  | 那个是数字0,删除光标所在到该行的最前面的一个字符                                | ☆☆☆      |
| `x,X` | x向后删除一个字符(相当于[del]按键),X向前删除一个字符(相当于[backspace]即退格键) | ☆☆☆☆     |
| `nx`  | n为数字，连续向后删除n个字符                                                    | ☆☆☆☆☆    |

#### 6. 替换文字

> 注意，替换时，`from`可以为任意字符，也可以为正则表达式；
> `$s`代表文末、`.s`代表当前行末、`20s`代表第20行末，所以在替换时我们也可以以运用这样的符号来指定替换的位置、`%s`代表所有行

 | 指令                        | 区别描述                                                                                       | 热度指数 |
 | --------------------------- | ---------------------------------------------------------------------------------------------- | -------- |
 | `R`                         | 进入替换模式                                                                                   | ☆☆☆      |
 | `:s/from/to/`               | 把当前行的第一个`from`替换为`to`                                                               | ☆☆☆☆     |
 | `:s/from/to/g`              | 把当前行的所有`from`替换为`to`                                                                 | ☆☆☆☆     |
 | `:s/from/to/gc`             | 把当前行的所有`from`替换为`to`，每次替换前要求用户确认                                         | ☆☆☆☆     |
 | `.s`/from/to/g              | 替换当前行的`from`为`to`，这里的`.s`就可以替换为上面提到的各种形式的指定位置，注意末尾要加`/g` | ☆☆☆☆     |
 | `:[range]s/from/to/[flags]` | 以上替换命令的完整形式                                                                         | ☆☆☆☆☆    |
 
> `[range]`和`[flags]`的额外说明，下面是一些简单的示例`
> 
> `:21s/old/new/g` - Line 21
> 
> `:1s/old/new/g` - First line
> 
> `:$s/old/new/g` - Last line
> 
> `:%s/old/new/g` - All lines
> 
> `:.,$s/old/new/g` - Current line to end

```    
- [range]
    有以下一些表示方法：

    不写range    ：  默认为光标所在的行。
    .           ：  光标所在的行。
    1           ：  第一行。
    $           ：  最后一行。
    33          ：  第33行。
    'a          ：  标记a所在的行（之前要使用ma做过标记）。
    .+1         ：  当前光标所在行的下面一行。
    $-1         ：  倒数第二行。（这里说明我们可以对某一行加减某个数值来
                    取得相对的行）。
    22,33       ：  第22～33行。
    1,$         ：  第1行 到 最后一行。
    1,.         ：  第1行 到 当前行。
    .,$         ：  当前行 到 最后一行。
    'a,'b       ：  标记a所在的行 到 标记b所在的行。

    %           ：  所有行（与 1,$ 等价）。

    ?chapter?   ：  从当前位置向上搜索，找到的第一个chapter所在的行。（
                    其中chapter可以是任何字符串或者正则表达式。
    /chapter/   ：  从当前位置向下搜索，找到的第一个chapter所在的行。（
                    其中chapter可以是任何字符串或者正则表达式。

    注意，上面的所有用于range的表示方法都可以通过 +、- 操作来设置相对偏
    移量。

- [flags]
    这里可用的flags有：

    无      ：  只对指定范围内的第一个匹配项进行替换。
    g       ：  对指定范围内的所有匹配项进行替换。
    c       ：  在替换前请求用户确认。
    e       ：  忽略执行过程中的错误。

    注意：上面的所有flags都可以组合起来使用，比如 gc 表示对指定范围内的
    所有匹配项进行替换，并且在每一次替换之前都会请用户确认。    
```

#### 7. 撤销操作

> 撤销操纵一般发生在我们误编辑之后的操作，如：撤销上次操作，撤销之前的所有操作

| 指令 | 区别描述     | 热度指数 |
| ---- | ------------ | -------- |
| `u`  | 撤销上次操作 | ☆☆☆☆☆    |

#### 8. 移动操作（非常频繁！！！）

> 毫无疑问，对于脱离了低级趣味的`Vim`编辑器而言，不适用鼠标模式移动光标对于新手是一件极其痛苦的事情，所以`移动操作`就变得非常重要，也要求所有使用`Vim`的使用者必须熟练掌握才行，这一节没有所谓的熟练度（但是还是写一下，和谐一点），因为基本都很频繁。
> 
> 此外，有些命令没有列举出来，需要的可自行查阅文档，根据自己的习惯来选择使用相似用处的命令。

| 指令        | 移动描述               | 热度指数 |
| ----------- | ---------------------- | -------- |
| `h`         | left                   | ☆☆☆☆☆    |
| `j`         | down                   | ☆☆☆☆☆    |
| `k`         | up                     | ☆☆☆☆☆    |
| `l`         | right                  | ☆☆☆☆☆    |
| `0`         | 当前行第一个字符       | ☆☆☆☆☆    |
| `^`         | 当前韩第一个非空格字符 | ☆☆☆☆☆    |
| `$`         | 当前行末尾字符-1位置   | ☆☆☆☆☆    |
| `nw`        | 向后移动n个单词        | ☆☆☆☆☆    |
| `nb`        | 向前移动几个单词       | ☆☆☆☆☆    |
| `nG`        | 跳到到指定行           | ☆☆☆☆☆    |
| control `g` | 获取当前光标的信息     | ☆☆☆      |


***

移动图例如下：

```
      k              <up>
    h   l      <left>    <right>
      j             <down>
```


#### 9. 简单搜索

> 搜索在`Vim`中也非常常见、用的也比较频繁，注意下面的移动`xn`代表第`x`个匹配的字符位置，如`3n`表示第3个字符匹配的地方
> 
> 此外，可以设置参数以搜索的时候忽略大小写及语法高亮
> 1. `:set ignorecase `，忽略大小写
> 2. `:set noignorecase `，不忽略大小写
> 3. `:set hls`, 设置高亮显示搜索内容
> 4. `:set nohls`，设置不高亮显示搜索内容

| 指令      | 移动描述                                                                                | 热度指数 |
| --------- | --------------------------------------------------------------------------------------- | -------- |
| `/string` | 查找`string`，然后按`xn`移动到`第x个string`去                                           | ☆☆☆☆☆    |
| `?string` | 和上面类似，不过是从后往前找`string`                                                    | ☆☆☆☆☆    |
| `*`、`#`  | 把光标停在word上按下“ * ” 键，vim将会取当前光标word进行搜索。“#”是“ * ”的反向版。 | ☆☆☆☆☆    |

#### 10. 标记

> 标记在看某个文件的时候使用起来非常过瘾，这样就不需要就记住某一行，只需要打个标记，随意切换！

> Vim 允许你在文本中放置自定义的标记。
> 
> 命令 "ma" 用 a 标记当前的光标位置。
> 
> 你可以在文本中使用 26 个标记（a到z）。这些标记是不可见的，只是一个由 Vim 记住的位置。
> 
> 要跳到一个你定义的标记，可以使用命令 `{mark}`，这里 `{mark}` 是指定义标记的那个字母。所以，移到标记a的命令是：`a
> 
> 你可以用如下命令取得所有的标记的列表：`:marks`
> 
> 你会注意到有一些特殊的标记，包括：
```
    '       跳转前的位置 
    "       最后编辑的位置 
    [       最后修改的位置的开头 
    ]       最后修改的位置的结尾 
```