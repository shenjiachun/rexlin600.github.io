---
layout: post
title:  "一：Git的历史"
date:   2015-01-01 12:00:02
categories: Git
tags: git
excerpt: 学习Git时简单做的笔记，from `廖雪峰`
mathjax: true
---

### Git的历史

#### Git历史

很多人都知道，`Linus`在`1991`年创建了开源的`Linux`，从此，`Linux`系统不断发展，已经成为最大的服务器系统软件了。

`Linus`虽然创建了`Linux`，但`Linux`的壮大是靠全世界热心的志愿者参与的，这么多人在世界各地为`Linux`编写代码，那Linux的代码是如何管理的呢？

事实是，在`2002`年以前，世界各地的志愿者把源代码文件通过`diff`的方式发给`Linus`，然后由`Linus`本人通过手工方式合并代码！

你也许会想，为什么`Linus`不把`Linux`代码放到版本控制系统里呢？不是有`CVS`、`SVN`这些免费的版本控制系统吗？因为`Linus`坚定地反对`CVS`和`SVN`，这些集中式的版本控制系统不但速度慢，而且必须联网才能使用。有一些商用的版本控制系统，虽然比`CVS`、`SVN`好用，但那是付费的，和`Linux`的开源精神不符。

不过，到了`2002`年，`Linux`系统已经发展了十年了，代码库之大让`Linus`很难继续通过手工方式管理了，社区的弟兄们也对这种方式表达了强烈不满，于是`Linus`选择了一个商业的版本控制系统`BitKeeper`，`BitKeeper`的东家`BitMover`公司出于人道主义精神，授权`Linux`社区免费使用这个版本控制系统。

安定团结的大好局面在`2005`年就被打破了，原因是`Linux`社区牛人聚集，不免沾染了一些梁山好汉的江湖习气。开发`Samba`的`Andrew`试图破解`BitKeeper`的协议（这么干的其实也不只他一个），被`BitMover`公司发现了（监控工作做得不错！），于是`BitMover`公司怒了，要收回`Linux`社区的免费使用权。

`Linus`可以向`BitMover`公司道个歉，保证以后严格管教弟兄们，嗯，这是不可能的。实际情况是这样的：

`Linus`花了两周时间自己用`C`写了一个分布式版本控制系统，这就是`Git`！一个月之内，`Linux`系统的源码已经由`Git`管理了！牛是怎么定义的呢？大家可以体会一下。

`Git`迅速成为最流行的分布式版本控制系统，尤其是`2008`年，`GitHub`网站上线了，它为开源项目免费提供`Git`存储，无数开源项目开始迁移至`GitHub`，包括`jQuery`，`PHP`，`Ruby`等等。

历史就是这么偶然，如果不是当年`BitMover`公司威胁`Linux`社区，可能现在我们就没有免费而超级好用的`Git`了。


#### 集中式 VS 分布式

`Linus`一直痛恨的`CVS`及`SVN`都是集中式的版本控制系统，而`Git`是分布式版本控制系统，集中式和分布式版本控制系统有什么区别呢？

先说集中式版本控制系统，版本库是集中存放在中央服务器的，而干活的时候，用的都是自己的电脑，所以要先从中央服务器取得最新的版本，然后开始干活，干完活了，再把自己的活推送给中央服务器。中央服务器就好比是一个图书馆，你要改一本书，必须先从图书馆借出来，然后回到家自己改，改完了，再放回图书馆。

```mermaid
graph TD
C(中央服务器)
C --> D[PC1]
C --> E[PC2]
C --> F[LapTop]
```

集中式版本控制系统最大的毛病就是必须联网才能工作，如果在局域网内还好，带宽够大，速度够快，可如果在互联网上，遇到网速慢的话，可能提交一个`10M`的文件就需要`5`分钟，这还不得把人给憋死啊。

那分布式版本控制系统与集中式版本控制系统有何不同呢？首先，分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。既然每个人电脑上都有一个完整的版本库，那多个人如何协作呢？比方说你在自己电脑上改了文件A，你的同事也在他的电脑上改了文件A，这时，你们俩之间只需把各自的修改推送给对方，就可以互相看到对方的修改了。

和集中式版本控制系统相比，分布式版本控制系统的安全性要高很多，因为每个人电脑里都有完整的版本库，某一个人的电脑坏掉了不要紧，随便从其他人那里复制一个就可以了。而集中式版本控制系统的中央服务器要是出了问题，所有人都没法干活了。

在实际使用分布式版本控制系统的时候，其实很少在两人之间的电脑上推送版本库的修改，因为可能你们俩不在一个局域网内，两台电脑互相访问不了，也可能今天你的同事病了，他的电脑压根没有开机。因此，分布式版本控制系统通常也有一台充当“中央服务器”的电脑，但这个服务器的作用仅仅是用来方便“交换”大家的修改，没有它大家也一样干活，只是交换修改不方便而已。

当然，`Git`的优势不单是不必联网这么简单，后面我们还会看到`Git`极其强大的分支管理，把SVN等远远抛在了后面。

`CVS`作为最早的开源而且免费的集中式版本控制系统，直到现在还有不少人在用。由于`CVS`自身设计的问题，会造成提交文件不完整，版本库莫名其妙损坏的情况。同样是开源而且免费的SVN修正了`CVS`的一些稳定性问题，是目前用得最多的集中式版本库控制系统。

除了免费的外，还有收费的集中式版本控制系统，比如`IBM`的`ClearCase`（以前是`Rational`公司的，被`IBM`收购了），特点是安装比`Windows`还大，运行比蜗牛还慢，能用`ClearCase`的一般是世界`500强`，他们有个共同的特点是财大气粗，或者人傻钱多。

微软自己也有一个集中式版本控制系统叫`VSS`，集成在`Visual Studio`中。由于其反人类的设计，连微软自己都不好意思用了。

分布式版本控制系统除了`Git`以及促使`Git`诞生的`BitKeeper`外，还有类似`Git`的`Mercurial`和`Bazaar`等。这些分布式版本控制系统各有特点，但最快、最简单也最流行的依然是`Git`！